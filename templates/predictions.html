<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Predictions</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <script>
    if (localStorage.getItem('theme') === 'dark') {
      document.documentElement.classList.add('dark');
    }
  </script>
  
</head>

<body>

  <header>
    <div class="nav-left">
      <h1>Weather Forecast</h1>
      <nav>
        <a href="{{ url_for('main.home') }}">Home</a>
        <a href="#">Features</a>
        <a href="#">Pricing</a>
      </nav>
    </div>
    <button id="theme-toggle" aria-label="Toggle dark mode">ðŸŒ™</button>
  </header>

  <div class="container">
    <h2>Temperature Predictions for {{ location }} on {{ date }}</h2>

    <table style="width:100%; border-collapse: collapse; margin-top: 1rem;">
      <thead>
        <tr style="background: var(--header-bg); color: var(--header-text);">
          <th style="padding: 0.75rem; border: 1px solid var(--input-border); text-align: left;">Time (Hour)</th>
          <th style="padding: 0.75rem; border: 1px solid var(--input-border); text-align: left;">Temperature (Â°C)</th>
        </tr>
      </thead>
      <tbody>
        {% for hour, temp in predictions %}
        <tr style="border: 1px solid var(--input-border);">
          <td style="padding: 0.75rem;">{{ hour }}:00</td>
          <td style="padding: 0.75rem;">{{ temp }} Â°C</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <div style="margin-top: 1.5rem; text-align: right;">
      <form action="/further_analysis" method="POST" style="display: inline-block;">
        <input type="hidden" name="latitude" value="{{ latitude }}">
        <input type="hidden" name="longitude" value="{{ longitude }}">
        <input type="hidden" name="date" value="{{ date }}">
        <input type="hidden" name="from_time" value="{{ from_time }}">
        <input type="hidden" name="to_time" value="{{ to_time }}">
        <input type="hidden" name="hours_list" value="{{ hours_list | join(',') }}">
        <input type="hidden" name="predictions" value="{{ temperatures_only | join(',') }}">
        <button type="submit"
          style="background: var(--button-bg); color: white; padding: 0.75rem 1.5rem; border:none; border-radius: 0.5rem; cursor:pointer; font-weight:600;">
          Further Analysis
        </button>
      </form>
    </div>
  </div>

  <script src="{{ url_for('static', filename='theme_toggle.js') }}"></script>
</body>

</html>